<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>Etch-a-Sketch</title>
</head>

<body>
    <div id='main_div'>
    </div>
    <button id='reset_btn'> Reset </button>

    <script>
        let main_div = document.getElementById('main_div');
        let square_row;
        let square_column;
        let square_list = [];
        let resetButton = document.getElementById('reset_btn');


        var buttonTriggered = false;
        var numberSquare;
        var answer;
        var squareSize;
        var squareNumbers = 16;





        const divSize = '400px';
        const squareColour = 'pink';

        // Div size will remain a constant
        main_div.style.width = divSize;
        main_div.style.height = divSize;
        main_div.style.position = 'relative';

        // When this is the first time we come to the page, create a 16x16 box
        // Otherwise, ask for size to user

        // Height at the top borders is slightly smaller than rest
        createSquares(64);





        // Let's wait for a button trigger, and if not triggered just let it use 16 
        function createSquares(numSquare) {
            squareNumbers = parseInt(numSquare);
            squareSize = (400 / squareNumbers);
            for (let i = 0; i < squareNumbers; i++) {
                square_row = document.createElement('div');
                square_row.style.backgroundColor = squareColour;
                square_row.style.width = (squareSize )+ 'px';
                square_row.style.height = (squareSize) + 'px';
                // Get rid of box border 
                main_div.appendChild(square_row);
                square_row.style.float = 'left';
                for (let j = 0; j < squareNumbers; j++) {
                    square_column = document.createElement('div');

                    // Prevent counting the 16 squares in the first row
                    // We have access to square_row in the 2nd for loop
                    square_column.style.backgroundColor = squareColour;
                    square_column.style.width = (squareSize ) + 'px';
                    square_column.style.height = (squareSize )+ 'px';
                    square_column.style.border = 'black 0 solid'
                    square_column.style.float = 'left';
                    // square_column.style.padding = '-2px';
                    if (square_list.indexOf(square_column) === -1) {
                        square_list.push(square_column);
                    }
                    square_row.appendChild(square_column);
                }
            } 
        }





        main_div.addEventListener('mouseover', mouseHover);



        // Reset button function
        resetButton.addEventListener('click', reset);
        resetButton.style.position = 'absolute';



        function reset() {
            buttonTriggered = true;
            numberSquare = parseInt(prompt('number of squares?', 16));

            for (let k = 0; k < square_list.length; k++) {
                square_list[k].style.backgroundColor = squareColour;
                square_list[k].style.width = squareSize;
                square_list[k].style.height = squareSize;
            }
            
        }






        function mouseHover() {
            // Change the color of the divs individually by adding them into a list after creation
            // Adding a function upon mouseover that changes colors of the divs
            // Everything inside main_div for the mouseover function
            for (let i = 0; i < square_list.length; i++) {
                square_list[i].addEventListener('mouseover', function () {
                    square_list[i].style.backgroundColor = 'red';
                })
            }
        }

























    </script>

</body>

</html>